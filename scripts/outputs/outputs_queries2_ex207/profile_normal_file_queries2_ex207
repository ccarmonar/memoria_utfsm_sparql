http://learningsparql.com/ns/demo#prob44	http://www.w3.org/2000/01/rdf-schema#label	Expenditures over 100 require grade 5 approval.	
http://learningsparql.com/ns/data#item857	http://learningsparql.com/ns/demo#problem	http://learningsparql.com/ns/demo#prob44	
http://learningsparql.com/ns/data#item201	http://learningsparql.com/ns/demo#problem	http://learningsparql.com/ns/demo#prob44	

  { 
    Precode:
      0:   { 
          time      0.79% fanout         1 input         1 rows
            clear: (<V ext_sets$98 i>, <V set_ctr$80 in>)
          s# 99 81 cluster outer seq start, set no <V set_ctr$80 in>    
          save ctx:()
          time       8.6% fanout         1 input         1 rows
          Precode:
            0: vector$27  := Call vector ( 1 ,  0 ,  3 ,  IRI_ID"...problem" ,  3 ,  IRI_ID"...prob44" )
            5: vector$29  := Call vector (vector$27 )
            10: DB.DBA.RDF_MAKE_LONG_OF_SQLVAL$31  := Call DB.DBA.RDF_MAKE_LONG_OF_SQLVAL (<c Expenditures over 100 require grade 5 approval.>)
            17: vector$33  := Call vector ( 3 ,  IRI_ID"...prob44" ,  3 ,  IRI_ID"...label" ,  3 , DB.DBA.RDF_MAKE_LONG_OF_SQLVAL$31 )
            22: vector$35  := Call vector (vector$33 )
            27: BReturn 0
          
          s# 221 82 Fork 82 {  
              time        17% fanout         8 input         1 rows
                clear: (<V t2.O$38 an>, <V t2.S$39 rn>)
                clear on continue: (<V t2.O$38 an>, <V t2.S$39 rn>)
              s# 110 37 from DB.DBA.RDF_QUAD by RDF_QUAD          8 rows   
              Key RDF_QUAD  ASC  (<V t2.S$39 rn>, <V t2.O$38 an>)
               inlined  P =  IRI_ID"...cost" 
              
              time       7.2% fanout         1 input         8 rows
                clear: (<V t3.S$42 rn>, <V t3.O$43 an>)
                clear on continue: (<V t3.S$42 rn>, <V t3.O$43 an>)
              s# 121 41 from DB.DBA.RDF_QUAD by RDF_QUAD       0.96 rows   
              Key RDF_QUAD  ASC  (<V t3.O$43 an>, <V t3.S$42 rn>)
               inlined  P =  IRI_ID"...amount"  ,  S = <V t2.S$39 rn>
              
              time       9.8% fanout       0.5 input         8 rows
                clear: (<V temp$45 an>)$38 (41 ) $43 () 
              s# 137 132 END Node
              After test:
                0: <V temp$45 an> := artm <r t2.O$38 via  Set121> * <V t3.O$43 an>
                4: if (<V temp$45 an> >  100 ) then 8 else 9 unkn 9
                8: BReturn 1
                9: BReturn 0
              time       8.3% fanout         1 input         4 rows
              Precode:
                0: <V __all_eq$47 x> := Call __all_eq (<r t2.S$39 via  Set137 Set121>, <r t3.S$42 via  Set137>)
                5: BReturn 0
                clear: (<V set_ctr$69 i>, <V __all_eq$47 x>)$39 (132 41 ) 
              s# 145 73 cluster outer seq start, set no <V set_ctr$69 i>    
              save ctx:()
                clear: (<V grade$52 a>, <V approvingEmployee$51 a>, <V item$50 r>, <V set_no$53 i>)
              s# 154 49 Subquery 49 
                multistate set no = <V set_no$53 i>
                { 
                  time       7.4% fanout      0.75 input         4 rows
                    clear: (<V t5.S$55 rn>, <V t5.O$56 an>)
                    clear on continue: (<V t5.O$56 an>, <V t5.S$55 rn>)$47 (73 ) 
                  s# 158 54 from DB.DBA.RDF_QUAD by RDF_QUAD          1 rows   
                  Key RDF_QUAD  ASC  (<V t5.O$56 an>, <V t5.S$55 rn>)
                   inlined  P =  IRI_ID"...approval"  ,  S = <v k___all_eq$162 Set164 rn>
                  vector param casts: <r __all_eq$47 via  Set145>-> <v k___all_eq$162 Set164 rn>
                  
                  time       5.8% fanout         1 input         3 rows
                    clear: (<V t6.O$59 an>, <V grade$52 a>, <V approvingEmployee$51 a>, <V item$50 r>)
                    clear on continue: (<V item$50 r>, <V approvingEmployee$51 a>, <V grade$52 a>, <V t6.O$59 an>)$177 (58 ) $55 () $56 () 
                  s# 173 58 from DB.DBA.RDF_QUAD by RDF_QUAD          1 rows   
                  Key RDF_QUAD  ASC  (<V t6.O$59 an>)
                   inlined  P =  IRI_ID"...jobGrade"  ,  S = <v k_t5.O$177 Set179 rn>
                  vector param casts: <V t5.O$56 an>-> <v k_t5.O$177 Set179 rn>
                  
                  After code:
                    0: <V item$50 r> :=  := artm <r t5.S$55 via  Set173 Set179>
                    4: <V approvingEmployee$51 a> :=  := artm <r t5.O$56 via  Set173 Set179>
                    8: <V grade$52 a> :=  := artm <V t6.O$59 an>
                    12: BReturn 0
                  time      0.36% fanout         0 input         3 rows
                  
                  s# 154 61 Subquery Select(<V item$50 r>, <V approvingEmployee$51 a>, <V grade$52 a>)
                    set no: <r set_no$53 via  Set173 Set179 Set158 Set164>
                }
              
              time      0.44% fanout   1.33333 input         3 rows
              $69 (49 73 ) $50 (49 ) $51 (49 ) $53 (49 ) 
              s# 197 68 end of outer seq <r set_ctr$69 via  Set154>
               out: (<V grade$52 a>, <V set_no$53 i>, <V item$50 r>, <V approvingEmployee$51 a>)
               shadow: ( <none> ,  <none> ,  <none> ,  <none> )
              time        31% fanout         0 input         4 rows
                clear: (<V user_aggr_ret$85 x>, <V vector$78 x>)$42 (68 49 73 132 ) $52 (68 49 ) 
              s# 210 205 END Node
              After test:
                0: if (<V grade$52 a>  IS NULL   0 ) then 8 else 4 unkn 4
                4: if (<V grade$52 a> <  5 ) then 8 else 9 unkn 9
                8: BReturn 1
                9: BReturn 0
              After code:
                0: <V vector$78 x> := Call vector (<r t3.S$42 via  Set210 Set197 Set137>)
                5: if (user_aggr_notfirst$83  =  1 ) then 20 else 9 unkn 9
                9: user_aggr_notfirst$83  :=  := artm  1 
                13: <V user_aggr_ret$85 x> := Call DB.DBA.SPARQL_CONSTRUCT_INIT (user_aggr_env$84 )
                20: <V user_aggr_ret$85 x> := Call DB.DBA.SPARQL_CONSTRUCT_ACC (user_aggr_env$84 , vector$29 , <V vector$78 x>, vector$35 ,  1 )
                27: BReturn 0
          }
          time         3% fanout         1 input         1 rows
            clear: (<V callret-0$86 x>)
          s# 228 96 skip node  1  <none> <V set_ctr$80 in>
          After code:
            0: <V callret-0$86 x> := Call DB.DBA.SPARQL_CONSTRUCT_FIN (user_aggr_env$84 )
            7: BReturn 0
          time      0.18% fanout         0 input         1 rows
          $98 (96 82 81 ) $80 (96 82 81 ) $86 (96 ) 
          s# 236 88 Subquery Select(<V callret-0$86 x>)
            set no: <r set_ctr$80 via  Set228>
        }
      
      8:  <none>  := Call DB.DBA.RDF_DICT_OF_TRIPLES_TO_THREE_COLS (scalar$244 )
      15: BReturn 0
    
    END Node
  }
Warning: You might have a Cartesian product.



 0 msec 7% cpu,        16 rnd         7 seq   70.5882% same seg         0% same pg 
Compilation: 4 msec 0 reads         0% read 0 messages         0% clw
