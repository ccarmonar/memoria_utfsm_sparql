OpenLink Virtuoso Interactive SQL (Virtuoso)
Version 07.20.3232 as of May 11 2021
Type HELP; for help and EXIT; to exit.
Connected to OpenLink Virtuoso
Driver: 07.20.3232 OpenLink Virtuoso ODBC Driver
{SPARQL_TO_SQL_TEXT
LONG VARCHAR
_______________________________________________________________________________

 DB.DBA.RDF_DICT_OF_TRIPLES_TO_THREE_COLS ((SELECT TOP 1  DB.DBA.SPARQL_CONSTRUCT (
      vector (
        vector (
         1,
         0,
         3,
         __i2id ( UNAME'http://www.w3.org/1999/02/22-rdf-syntax-ns#type' ),
         3,
         __i2id ( UNAME'http://xmlns.com/foaf/0.1/Person' )),
        vector (
         1,
         0,
         3,
         __i2id ( UNAME'http://xmlns.com/foaf/0.1/givenName' ),
         1,
         3),
        vector (
         1,
         0,
         3,
         __i2id ( UNAME'http://xmlns.com/foaf/0.1/familyName' ),
         1,
         2),
        vector (
         1,
         0,
         3,
         __i2id ( UNAME'http://xmlns.com/foaf/0.1/name' ),
         1,
         1)),
      vector (
       "s_16_14"."person",
       DB.DBA.RDF_LONG_OF_SQLVAL ( "s_16_14"."fullName"),
       __ro2lo ( "s_16_14"."familyName"),
       __ro2lo ( "s_16_14"."givenName")),
      vector (),
     1) AS "callret-0"
FROM (
   SELECT "s_16_13_t4"."S" AS "person",
      "s_16_13_t4"."O" AS "givenName",
      "s_16_13_t5"."O" AS "familyName",
      rdf_concat_impl ( __ro2sq ( "s_16_13_t4"."O"),  ' ' ,  __ro2sq ( "s_16_13_t5"."O")) AS "fullName"
    FROM DB.DBA.RDF_QUAD AS "s_16_13_t4"
      INNER JOIN DB.DBA.RDF_QUAD AS "s_16_13_t5"
      ON (
        "s_16_13_t4"."S" = "s_16_13_t5"."S")
    WHERE
      "s_16_13_t4"."P" = __i2idn ( __bft( 'http://www.w3.org/2006/vcard/ns#given-name' , 1))
      AND 
      "s_16_13_t5"."P" = __i2idn ( __bft( 'http://www.w3.org/2006/vcard/ns#family-name' , 1))
OPTION (QUIETCAST)
    ) AS "s_16_14"
OPTION (QUIETCAST)))

1 Rows. -- 2 msec.

Done. -- 1 msec.

Done. -- 0 msec.
result
LONG VARCHAR
_______________________________________________________________________________

http://www.snee.com/hr/emp3	http://www.w3.org/1999/02/22-rdf-syntax-ns#type	http://xmlns.com/foaf/0.1/Person	
http://www.snee.com/hr/emp2	http://xmlns.com/foaf/0.1/givenName	John	
http://www.snee.com/hr/emp4	http://xmlns.com/foaf/0.1/familyName	Berger	
http://www.snee.com/hr/emp4	http://www.w3.org/1999/02/22-rdf-syntax-ns#type	http://xmlns.com/foaf/0.1/Person	
http://www.snee.com/hr/emp3	http://xmlns.com/foaf/0.1/familyName	Jones	
http://www.snee.com/hr/emp1	http://xmlns.com/foaf/0.1/name	Heidi Smith	
http://www.snee.com/hr/emp2	http://xmlns.com/foaf/0.1/name	John Smith	
http://www.snee.com/hr/emp2	http://xmlns.com/foaf/0.1/familyName	Smith	
http://www.snee.com/hr/emp1	http://www.w3.org/1999/02/22-rdf-syntax-ns#type	http://xmlns.com/foaf/0.1/Person	
http://www.snee.com/hr/emp1	http://xmlns.com/foaf/0.1/givenName	Heidi	
http://www.snee.com/hr/emp1	http://xmlns.com/foaf/0.1/familyName	Smith	
http://www.snee.com/hr/emp4	http://xmlns.com/foaf/0.1/givenName	Jane	
http://www.snee.com/hr/emp2	http://www.w3.org/1999/02/22-rdf-syntax-ns#type	http://xmlns.com/foaf/0.1/Person	
http://www.snee.com/hr/emp3	http://xmlns.com/foaf/0.1/givenName	Francis	
http://www.snee.com/hr/emp4	http://xmlns.com/foaf/0.1/name	Jane Berger	
http://www.snee.com/hr/emp3	http://xmlns.com/foaf/0.1/name	Francis Jones	

  { 
    Precode:
      0:   { 
          time       1.1% fanout         1 input         1 rows
          time         5% fanout         1 input         1 rows
          Precode:
            0: vector$27 := Call vector ( 1 ,  0 ,  3 ,  IRI_ID"...type" ,  3 ,  IRI_ID"...Person" )
            5: vector$29 := Call vector ( 1 ,  0 ,  3 ,  IRI_ID"...givenName" ,  1 ,  3 )
            10: vector$31 := Call vector ( 1 ,  0 ,  3 ,  IRI_ID"...familyName" ,  1 ,  2 )
            15: vector$33 := Call vector ( 1 ,  0 ,  3 ,  IRI_ID"...name" ,  1 ,  1 )
            20: vector$35 := Call vector (vector$27, vector$29, vector$31, vector$33)
            25: vector$37 := Call vector ()
            30: BReturn 0
          fork {
              Subquery 39 
                { 
                  time        21% fanout         4 input         1 rows
                  RDF_QUAD         4 rows(s_16_13_t4.S$47, s_16_13_t4.O$46)
                   inlined  P =  IRI_ID"...given-name" 
                  time        68% fanout         1 input         4 rows
                  RDF_QUAD         1 rows(s_16_13_t5.O$50)
                   inlined  P =  IRI_ID"...family-name"  ,  S = s_16_13_t4.S$47
                  
                  After code:
                  0: __ro2sq$52 := Call __ro2sq (s_16_13_t4.O$46)
                  5: __ro2sq$54 := Call __ro2sq (s_16_13_t5.O$50)
                  10: rdf_concat_impl$56 := Call rdf_concat_impl (__ro2sq$52, <c  >, __ro2sq$54)
                  15: person$40 :=  := artm s_16_13_t4.S$47
                  19: givenName$41 :=  := artm s_16_13_t4.O$46
                  23: familyName$42 :=  := artm s_16_13_t5.O$50
                  27: fullName$43 :=  := artm rdf_concat_impl$56
                  31: BReturn 0
                  time      0.44% fanout         0 input         4 rows
                  Subquery Select(person$40, givenName$41, familyName$42, fullName$43)
                }
              
              After code:
              0: DB.DBA.RDF_LONG_OF_SQLVAL$65 := Call DB.DBA.RDF_LONG_OF_SQLVAL (fullName$43)
              7: __ro2lo$67 := Call __ro2lo (familyName$42)
              12: __ro2lo$69 := Call __ro2lo (givenName$41)
              17: vector$71 := Call vector (person$40, DB.DBA.RDF_LONG_OF_SQLVAL$65, __ro2lo$67, __ro2lo$69)
              22: if (user_aggr_notfirst$76  =  1 ) then 37 else 26 unkn 26
              26: user_aggr_notfirst$76  :=  := artm  1 
              30: user_aggr_ret$78 := Call DB.DBA.SPARQL_CONSTRUCT_INIT (user_aggr_env$77 )
              37: user_aggr_ret$78 := Call DB.DBA.SPARQL_CONSTRUCT_ACC (user_aggr_env$77 , vector$35, vector$71, vector$37,  1 )
              44: BReturn 0
            }
          time       3.8% fanout         1 input         1 rows
          skip node  1  <none> set_ctr$73
          
          After code:
          0: callret-0$79 := Call DB.DBA.SPARQL_CONSTRUCT_FIN (user_aggr_env$77 )
          7: BReturn 0
          time      0.33% fanout         0 input         1 rows
          Subquery Select(callret-0$79)
        }
      
      8:  <none>  := Call DB.DBA.RDF_DICT_OF_TRIPLES_TO_THREE_COLS (scalar$164 )
      15: BReturn 0
    END Node
  }


 1 msec 29% cpu,        20 rnd         3 seq   9.52381% same seg   57.1429% same pg 
Compilation: 2 msec 0 reads         0% read 0 messages         0% clw

4 Rows. -- 21 msec.
}